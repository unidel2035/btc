# Режим работы
NODE_ENV=development

# Биржи - Binance
BINANCE_API_KEY=your_binance_api_key_here
BINANCE_SECRET=your_binance_secret_here
BINANCE_TESTNET=true

# Биржи - Bybit
BYBIT_API_KEY=your_bybit_api_key_here
BYBIT_SECRET=your_bybit_secret_here
BYBIT_TESTNET=true

# Биржи - OKX
OKX_API_KEY=your_okx_api_key_here
OKX_SECRET=your_okx_secret_here
OKX_PASSPHRASE=your_okx_passphrase_here
OKX_TESTNET=true

# База данных - PostgreSQL
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=btc_trading_bot
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_postgres_password
POSTGRES_URL=postgresql://postgres:your_postgres_password@localhost:5432/btc_trading_bot

# Кеш - Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_URL=redis://localhost:6379

# Twitter/X API
TWITTER_BEARER_TOKEN=your_twitter_bearer_token_here
TWITTER_API_KEY=your_twitter_api_key_here
TWITTER_API_SECRET=your_twitter_api_secret_here

# Новостные API и коллекторы
NEWS_API_KEY=your_news_api_key_here
COINDESK_API_KEY=
COINTELEGRAPH_API_KEY=
ENABLE_NEWS_SCHEDULER=false

# News Collection for Dashboard
NEWS_UPDATE_INTERVAL=300000           # 5 минут (в миллисекундах)
NEWS_MAX_AGE_HOURS=24                 # Только свежие новости (часы)
NEWS_KEYWORDS=bitcoin,btc,crypto,ethereum,blockchain,defi
NEWS_EXCLUDE_KEYWORDS=sponsored,ad,advertisement

# RSS Sources (enabled by default in NewsCollectorManager)
RSS_COINDESK_ENABLED=true
RSS_COINTELEGRAPH_ENABLED=true
RSS_THEBLOCK_ENABLED=true
RSS_DECRYPT_ENABLED=true

# Sentiment Analysis API
SENTIMENT_API_URL=http://localhost:8000
SENTIMENT_API_PORT=8000
SENTIMENT_BATCH_SIZE=10

# CoinGecko API (optional, for Screening Module)
COINGECKO_API_KEY=

# Screening Module Configuration
SCREENING_MIN_MCAP_GROWTH_30D=5
SCREENING_MIN_MCAP_GROWTH_90D=10
SCREENING_TOP_SECTORS_COUNT=2
SCREENING_MIN_MCAP_RANK=1
SCREENING_MAX_MCAP_RANK=150
SCREENING_MIN_VOLUME_24H=10000000
SCREENING_MIN_PRICE_CHANGE_30D=0
SCREENING_REQUIRED_EXCHANGES=binance,bybit
SCREENING_MIN_EXCHANGE_COUNT=2
SCREENING_TOP_PROJECTS_PER_SECTOR=7
SCREENING_WEIGHT_FUNDAMENTAL=0.3
SCREENING_WEIGHT_MARKET=0.4
SCREENING_WEIGHT_COMMUNITY=0.3
SCREENING_UNLOCK_PENALTY=10
SCREENING_UNLOCK_THRESHOLD=2
SCREENING_MIN_PROJECTS=2
SCREENING_MAX_PROJECTS=4
SCREENING_REQUIRE_DIVERSIFICATION=true
SCREENING_INCLUDE_BLUE_CHIPS=true
SCREENING_BLUE_CHIP_THRESHOLD=50
SCREENING_INCLUDE_GAZERS=true
SCREENING_GAZER_MIN_RANK=50
SCREENING_GAZER_MAX_RANK=150

# Reddit API
REDDIT_CLIENT_ID=your_reddit_client_id_here
REDDIT_CLIENT_SECRET=your_reddit_client_secret_here
REDDIT_USERNAME=your_reddit_username_here
REDDIT_PASSWORD=your_reddit_password_here
REDDIT_USER_AGENT=btc-trading-bot

# Telegram API (для мониторинга каналов)
TELEGRAM_API_ID=your_telegram_api_id_here
TELEGRAM_API_HASH=your_telegram_api_hash_here
TELEGRAM_SESSION_STRING=your_telegram_session_string_here

# Telegram уведомления (бот)
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_CHAT_ID=your_telegram_chat_id_here

# Social Collectors настройки
ENABLE_SOCIAL_TWITTER=false
ENABLE_SOCIAL_REDDIT=false
ENABLE_SOCIAL_TELEGRAM=false
SOCIAL_POLL_INTERVAL_TWITTER=60000
SOCIAL_POLL_INTERVAL_REDDIT=120000
SOCIAL_POLL_INTERVAL_TELEGRAM=180000

# Настройки торговли
TRADING_ENABLED=false
PAPER_TRADING=true
TRADING_MODE=paper
MAX_POSITION_SIZE=0.1
STOP_LOSS_PERCENT=2
TAKE_PROFIT_PERCENT=5
DAILY_LOSS_LIMIT=5
RISK_PER_TRADE=1

# Paper Trading настройки
PAPER_INITIAL_BALANCE=10000
PAPER_CURRENCY=USDT
PAPER_MAKER_FEE=0.1
PAPER_TAKER_FEE=0.1
PAPER_SLIPPAGE=0.05
PAPER_ALLOW_SHORTS=true
PAPER_MAX_POSITIONS=5
PAPER_MARKET_DATA_SOURCE=binance

# API сервер
API_PORT=3000
API_HOST=localhost

# Dashboard
DASHBOARD_PORT=8080
DASHBOARD_HOST=localhost
DASHBOARD_STORAGE=integram
DASHBOARD_DEMO=false

# Dashboard Data Update Intervals (in milliseconds)
POSITIONS_UPDATE_INTERVAL=5000    # 5 seconds
PRICE_UPDATE_INTERVAL=1000        # 1 second
BALANCE_UPDATE_INTERVAL=30000     # 30 seconds

# Integram Database (облачная база данных)
INTEGRAM_URL=https://интеграм.рф
INTEGRAM_DATABASE=bts
INTEGRAM_LOGIN=d
INTEGRAM_PASSWORD=d

# User Management (Integram Table IDs)
INTEGRAM_TYPE_USERS=18                # Таблица Пользователь
DEFAULT_USER_ROLE_ID=                 # ID роли по умолчанию (таблица 42)
PROFILE_EDIT_COOLDOWN=300000          # Интервал между изменениями профиля (5 минут)

# Integram Table IDs (созданы автоматически)
INTEGRAM_TYPE_POSITIONS=1031
INTEGRAM_TYPE_SIGNALS=1058
INTEGRAM_TYPE_NEWS=1077
INTEGRAM_TYPE_TRADE_HISTORY=1095
INTEGRAM_TYPE_EQUITY_HISTORY=1111
INTEGRAM_TYPE_POSITION_SIDE=1017
INTEGRAM_TYPE_POSITION_STATUS=1020
INTEGRAM_TYPE_SIGNAL_ACTION=1023
INTEGRAM_TYPE_SENTIMENT=1027

# Screening Lookup Tables
INTEGRAM_TYPE_REPORT_STATUS=1117
INTEGRAM_TYPE_RISK_LEVELS=1121
INTEGRAM_TYPE_SECTORS=1125
INTEGRAM_TYPE_CRYPTOCURRENCIES=1136

# Screening Main Tables
INTEGRAM_TYPE_SCREENING_REPORTS=1155
INTEGRAM_TYPE_SCREENING_RECOMMENDATIONS=1170
INTEGRAM_TYPE_SECTOR_PERFORMANCE=1201
INTEGRAM_TYPE_PROJECT_METRICS_HISTORY=1213

# Screening Reports Requisites
INTEGRAM_REQ_REPORT_GENERATED_AT=1157
INTEGRAM_REQ_REPORT_ANALYZED_SECTORS=1159
INTEGRAM_REQ_REPORT_PROJECTS_COUNT=1161
INTEGRAM_REQ_REPORT_STATUS=1163
INTEGRAM_REQ_REPORT_DURATION=1165
INTEGRAM_REQ_REPORT_MODULE_VERSION=1167
INTEGRAM_REQ_REPORT_CONFIG_PARAMS=1169

# Screening Recommendations Requisites
INTEGRAM_REQ_REC_UP=1171
INTEGRAM_REQ_REC_RANK=1172
INTEGRAM_REQ_REC_TICKER=1174
INTEGRAM_REQ_REC_NAME=1175
INTEGRAM_REQ_REC_SECTOR=1177
INTEGRAM_REQ_REC_COMPOSITE_SCORE=1179
INTEGRAM_REQ_REC_FUNDAMENTAL_SCORE=1181
INTEGRAM_REQ_REC_MARKET_SCORE=1183
INTEGRAM_REQ_REC_COMMUNITY_SCORE=1185
INTEGRAM_REQ_REC_RATIONALE=1187
INTEGRAM_REQ_REC_KEY_RISK=1189
INTEGRAM_REQ_REC_RISK_LEVEL=1191
INTEGRAM_REQ_REC_MARKET_CAP=1193
INTEGRAM_REQ_REC_PRICE_TO_ATH=1195
INTEGRAM_REQ_REC_VOLUME_24H=1197
INTEGRAM_REQ_REC_TRADING_PAIRS=1199

# Sector Performance Requisites
INTEGRAM_REQ_SECTOR_PERF_UP=1203
INTEGRAM_REQ_SECTOR_PERF_SECTOR=1202
INTEGRAM_REQ_SECTOR_PERF_MCAP_GROWTH_30D=1204
INTEGRAM_REQ_SECTOR_PERF_MCAP_GROWTH_90D=1206
INTEGRAM_REQ_SECTOR_PERF_SCORE=1208
INTEGRAM_REQ_SECTOR_PERF_SELECTED=1210
INTEGRAM_REQ_SECTOR_PERF_RATIONALE=1211

# Project Metrics History Requisites
INTEGRAM_REQ_METRICS_PROJECT=1215
INTEGRAM_REQ_METRICS_DATE=1217
INTEGRAM_REQ_METRICS_MARKET_CAP=1218
INTEGRAM_REQ_METRICS_VOLUME_24H=1220
INTEGRAM_REQ_METRICS_PRICE=1222
INTEGRAM_REQ_METRICS_PRICE_CHANGE_30D=1224
INTEGRAM_REQ_METRICS_TVL=1226
INTEGRAM_REQ_METRICS_SOCIAL_SCORE=1228
INTEGRAM_REQ_METRICS_COMPOSITE_SCORE=1229

# Cryptocurrencies Requisites
INTEGRAM_REQ_CRYPTO_NAME=1138
INTEGRAM_REQ_CRYPTO_COINGECKO_ID=1140
INTEGRAM_REQ_CRYPTO_LOGO_URL=1142
INTEGRAM_REQ_CRYPTO_WEBSITE=1144
INTEGRAM_REQ_CRYPTO_DESCRIPTION=1146
INTEGRAM_REQ_CRYPTO_LAST_UPDATED=1148

# Sectors Requisites
INTEGRAM_REQ_SECTOR_DESCRIPTION=1150
INTEGRAM_REQ_SECTOR_NARRATIVE=1152
INTEGRAM_REQ_SECTOR_COLOR=1154

# Логирование
LOG_LEVEL=info
LOG_FILE=logs/app.log

# Метрики и мониторинг
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9090

# ============================================
# Trading Strategies Configuration
# ============================================

# General Strategy Settings
ENABLE_SIGNALS_PROVIDER=true
STRATEGY_ANALYSIS_INTERVAL=30000      # Analysis interval in milliseconds (30 seconds)
TRADING_SYMBOL=BTC/USDT               # Primary trading symbol
INITIAL_BALANCE=10000                 # Initial balance for risk manager

# News Momentum Strategy
STRATEGY_NEWS_MOMENTUM_ENABLED=true
NEWS_MIN_IMPACT=0.7                   # Minimum news impact score (0-1)
NEWS_MIN_CONFIDENCE=0.65              # Minimum confidence for trade entry (0-1)
NEWS_MAX_POSITION_SIZE=5              # Maximum position size in %
NEWS_STOP_LOSS_PERCENT=2              # Stop loss percentage
NEWS_TAKE_PROFIT_PERCENT=4            # Take profit percentage
NEWS_IMPACT_THRESHOLD=0.7             # Impact threshold for significant news
NEWS_REACTION_TIME=60                 # Reaction time window in seconds
NEWS_EXIT_TIME=3600                   # Position holding time in seconds (1 hour)
NEWS_VOLATILITY_MULTIPLIER=0.8        # Volatility adjustment multiplier
NEWS_REQUIRE_MULTIPLE=false           # Require multiple signals
NEWS_MIN_SIGNALS_COUNT=2              # Minimum signals count if required

# Sentiment Swing Strategy
STRATEGY_SENTIMENT_SWING_ENABLED=true
SENTIMENT_MIN_IMPACT=0.5              # Minimum sentiment impact score (0-1)
SENTIMENT_MIN_CONFIDENCE=0.6          # Minimum confidence for trade entry (0-1)
SENTIMENT_MAX_POSITION_SIZE=8         # Maximum position size in %
SENTIMENT_STOP_LOSS_PERCENT=3         # Stop loss percentage
SENTIMENT_TAKE_PROFIT_PERCENT=8       # Take profit percentage
SENTIMENT_AGGREGATION_PERIOD=4        # Aggregation period in hours
SENTIMENT_TREND_THRESHOLD=0.6         # Trend strength threshold (0-1)
SENTIMENT_REVERSAL_DETECTION=true     # Enable trend reversal detection
SENTIMENT_CONTINUATION_DETECTION=true # Enable trend continuation detection
SENTIMENT_MIN_CHANGE=0.3              # Minimum sentiment change for signal
SENTIMENT_HOLDING_PERIOD=24           # Position holding period in hours

# Risk Management Settings
MAX_POSITION_SIZE=10                  # Maximum position size in %
MAX_POSITIONS=5                       # Maximum number of open positions
MAX_DAILY_LOSS=5                      # Maximum daily loss in %
MAX_DRAWDOWN=20                       # Maximum total drawdown in %
DEFAULT_STOP_LOSS=2                   # Default stop loss in %
DEFAULT_TAKE_PROFIT=5                 # Default take profit in %
TRAILING_STOP=true                    # Enable trailing stop
TRAILING_STOP_ACTIVATION=2            # Profit threshold to activate trailing stop in %
TRAILING_STOP_DISTANCE=1              # Trailing stop distance in %
MAX_CORRELATED_POSITIONS=3            # Maximum number of correlated positions
CORRELATION_THRESHOLD=0.7             # Correlation threshold (0-1)

# ============================================
# AI Screening Module Configuration
# ============================================

# CoinGecko API
COINGECKO_API_KEY=                    # Optional: Pro API key for higher rate limits

# Stage 0: Sector Selection
SCREENING_MAX_SECTORS=3               # Maximum number of sectors to analyze
SCREENING_MIN_SECTOR_GROWTH=10        # Minimum sector growth % in 30 days
SCREENING_MIN_NARRATIVE_STRENGTH=0.3  # Minimum narrative strength (0-1)

# Stage 1: Quantitative Screening
SCREENING_MIN_MARKET_CAP_RANK=1       # Minimum market cap rank (higher = smaller projects)
SCREENING_MAX_MARKET_CAP_RANK=200     # Maximum market cap rank
SCREENING_MIN_VOLUME=10000000         # Minimum 24h volume in USD ($10M)
SCREENING_MIN_PRICE_CHANGE_30D=0      # Minimum 30-day price change %
SCREENING_PROJECTS_PER_SECTOR=7       # Number of projects to analyze per sector
SCREENING_REQUIRED_EXCHANGES=binance,bybit,okx,kucoin  # Required exchanges (comma-separated)
SCREENING_MIN_EXCHANGE_LISTINGS=2     # Minimum number of required exchange listings

# Stage 2: Scoring Weights (must sum to 1.0)
SCREENING_WEIGHT_FUNDAMENTAL=0.3      # Weight for fundamental score
SCREENING_WEIGHT_MARKET=0.4           # Weight for market score
SCREENING_WEIGHT_COMMUNITY=0.3        # Weight for community score

# Stage 2: Scoring Thresholds
SCREENING_MAX_UNLOCK_PERCENT=2        # Maximum token unlock % in next 30 days
SCREENING_UNLOCK_PENALTY=-5           # Score penalty per % of upcoming unlock

# Stage 3: Portfolio Construction
SCREENING_FINAL_COUNT=4               # Final number of projects to select (2-4)
SCREENING_MIN_PROJECTS_PER_SECTOR=1   # Minimum projects per sector for diversification
SCREENING_BLUECHIP_RATIO=0.5          # Ratio of high market cap projects (0-1)
SCREENING_GAZZELLE_RATIO=0.5          # Ratio of mid market cap projects (0-1)

# Report Output
SCREENING_REPORT_DIR=./reports        # Directory for screening reports
SCREENING_REPORT_FORMATS=markdown,json,csv  # Report formats (comma-separated)
