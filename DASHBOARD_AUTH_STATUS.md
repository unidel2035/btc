# Dashboard Authentication - Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¸ Ñ Integram

## âœ… Ð§Ñ‚Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ ÑÐµÐ¹Ñ‡Ð°Ñ (ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¾ 10.01.2026 23:10)

### 1. ÐŸÑ€ÑÐ¼Ð°Ñ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ñ Integram Ð±Ð°Ð·Ð¾Ð¹ Ð´Ð°Ð½Ð½Ñ‹Ñ…
- **âœ… IntegramClient Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½ Ð¸ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚**
- ÐÐ²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· `/auth` endpoint (form-data: db, login, pwd)
- ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ñ‡ÐµÑ€ÐµÐ· `/object/{typeId}?JSON`
- ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð²ÑÐµÑ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ð¸Ð· https://Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ð¼.Ñ€Ñ„/bts
- Fallback Ð½Ð° Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ñ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ð¿Ñ€Ð¸ Ð¾ÑˆÐ¸Ð±ÐºÐµ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ

### 2. ÐÐ²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ
- **Ð›Ð¾Ð³Ð¸Ð½:** `d` Ð¸Ð»Ð¸ `dd`
- **ÐŸÐ°Ñ€Ð¾Ð»ÑŒ:** `d` Ð¸Ð»Ð¸ `dd` ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ð¾
- Dashboard: http://173.249.2.184:8080/

### 3. Ð ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»
- âœ… Ð’Ñ…Ð¾Ð´ Ñ Ð»Ð¾Ð³Ð¸Ð½Ð¾Ð¼/Ð¿Ð°Ñ€Ð¾Ð»ÐµÐ¼
- âœ… JWT Ñ‚Ð¾ÐºÐµÐ½Ñ‹ (ÑÑ€Ð¾Ðº Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ 7 Ð´Ð½ÐµÐ¹)
- âœ… Ð—Ð°Ñ‰Ð¸Ñ‚Ð° dashboard - Ñ€ÐµÐ´Ð¸Ñ€ÐµÐºÑ‚ Ð½Ð° /login.html
- âœ… ÐšÐ½Ð¾Ð¿ÐºÐ° Logout
- âœ… ÐžÑ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ Ð¸Ð¼ÐµÐ½Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Ð² header
- âœ… WebSocket Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¾ (Ð¾ÑˆÐ¸Ð±ÐºÐ° RSV1 ÑƒÑÑ‚Ñ€Ð°Ð½ÐµÐ½Ð°)
- âœ… WebSocket: Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾ ÑÐ¶Ð°Ñ‚Ð¸Ðµ perMessageDeflate
- âœ… WebSocket: Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¾ Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½Ð¾Ðµ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ð¹
- âœ… ÐšÐ»Ð¸ÐµÐ½Ñ‚: Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð° Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¾ÑˆÐ¸Ð±Ð¾Ðº Ð¿Ñ€Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ð¸ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹
- âœ… ÐŸÑ€ÑÐ¼Ð¾Ðµ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº Integram API
- âœ… Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ð¸Ð· Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ… Integram

## âœ… Ð ÐµÑˆÐµÐ½Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹

### WebSocket "Invalid frame header" - Ð˜Ð¡ÐŸÐ ÐÐ’Ð›Ð•ÐÐž (10.01.2026 23:20)
**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:**
- Ð‘Ñ€Ð°ÑƒÐ·ÐµÑ€ Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°Ð» Ð¾ÑˆÐ¸Ð±ÐºÑƒ "WebSocket connection failed: Invalid frame header"
- Ð¡Ð¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ ÑÑ€Ð°Ð·Ñƒ Ñ€Ð°Ð·Ñ€Ñ‹Ð²Ð°Ð»Ð¾ÑÑŒ Ð¿Ð¾ÑÐ»Ðµ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ
- Code 1006 (abnormal closure)
- WebSocket Ð·Ð°ÐºÑ€Ñ‹Ð²Ð°Ð»ÑÑ Ð”Ðž Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ Ð»ÑŽÐ±Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…

**ÐŸÑ€Ð¸Ñ‡Ð¸Ð½Ð°:**
- **ÐšÐžÐÐ¤Ð›Ð˜ÐšÐ¢ Ð´Ð²ÑƒÑ… WebSocketServer** Ð½Ð° Ð¾Ð´Ð½Ð¾Ð¼ HTTP ÑÐµÑ€Ð²ÐµÑ€Ðµ:
  - `new WebSocketServer({ server, path: '/ws' })`
  - `new WebSocketServer({ server, path: '/ws/signals' })`
- Ð‘Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ° `ws` Ð½Ðµ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ WebSocketServer Ñ Ñ€Ð°Ð·Ð½Ñ‹Ð¼Ð¸ path Ð½Ð° Ð¾Ð´Ð½Ð¾Ð¼ HTTP ÑÐµÑ€Ð²ÐµÑ€Ðµ
- Ð­Ñ‚Ð¾ Ð¿Ñ€Ð¸Ð²Ð¾Ð´Ð¸Ð»Ð¾ Ðº Ð½ÐµÐ¼ÐµÐ´Ð»ÐµÐ½Ð½Ð¾Ð¼Ñƒ Ñ€Ð°Ð·Ñ€Ñ‹Ð²Ñƒ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:**
- ÐžÑ‚ÐºÐ»ÑŽÑ‡ÐµÐ½ Ð²Ñ‚Ð¾Ñ€Ð¾Ð¹ WebSocketServer (`/ws/signals`)
- ÐžÑÑ‚Ð°Ð²Ð»ÐµÐ½ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¾Ð´Ð¸Ð½ WebSocketServer Ð½Ð° `/ws`
- WebSocket Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ ÑÑ‚Ð°Ð±Ð¸Ð»ÑŒÐ½Ð¾

**Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ:**
- Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð° Ð·Ð°Ñ‰Ð¸Ñ‚Ð° try-catch Ð´Ð»Ñ Ð²ÑÐµÑ… Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¾Ð² ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹ Ð² app.js
- Ð˜ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ° "Chart is not defined" Ð² theme.js (Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð° Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° `typeof Chart !== 'undefined'`)

**Ð¤Ð°Ð¹Ð»Ñ‹ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ñ‹:**
- `/home/hive/btc/src/dashboard/websocket.ts` - Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½ signals WebSocketServer
- `/home/hive/btc/src/dashboard/public/app.js` - Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹ try-catch Ð±Ð»Ð¾ÐºÐ¸
- `/home/hive/btc/src/dashboard/public/theme.js` - Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð° Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Chart
- `/home/hive/btc/src/dashboard/public/index.html` - Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð° Ð²ÐµÑ€ÑÐ¸Ñ Ðº app.js (?v=...)

### IntegramClient - Ð˜Ð¡ÐŸÐ ÐÐ’Ð›Ð•ÐÐž (10.01.2026 22:40)
**Ð§Ñ‚Ð¾ Ð±Ñ‹Ð»Ð¾ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¾:**
1. âŒ ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ endpoint `/_d_list` â†’ âœ… ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ `/object/{typeId}?JSON`
2. âŒ ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸ â†’ âœ… Form-data Ñ Ð¿Ð¾Ð»ÑÐ¼Ð¸ `db`, `login`, `pwd`
3. âŒ ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ðµ cookies â†’ âœ… Cookie: `{database}={token}; XSRF-TOKEN={xsrf}`
4. âœ… ÐŸÐ°Ñ€ÑÐ¸Ð½Ð³ Ð¾Ñ‚Ð²ÐµÑ‚Ð° Ñ Ð¿Ð¾Ð»ÑÐ¼Ð¸ `object` Ð¸ `reqs`

### Ð¢ÐµÐºÑƒÑ‰ÐµÐµ Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ
`AuthServiceIntegram` Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Ð¿Ñ€ÑÐ¼Ð¾Ðµ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº Integram:
1. **Ð—Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÑ‚ Ð²ÑÐµÑ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ð¸Ð· Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ… Integram**
2. **Fallback Ð½Ð° Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ñ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹:**
   - **d/d** - ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€ (Ð¸Ð· Integram, fallback Ð½Ð° Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ð¹)
   - **dd/dd** - Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€ (Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ð¹ Ñ bcrypt Ñ…ÑÑˆÐµÐ¼)
3. ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ Ð²Ñ…Ð¾Ð´ Ð¿Ð¾ username Ð¸Ð»Ð¸ email
4. ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ÑÑ Ðº Ð±Ð°Ð·Ðµ Ð¿Ñ€Ð¸ Ð¿ÐµÑ€Ð²Ð¾Ð¼ Ð·Ð°Ð¿Ñ€Ð¾ÑÐµ
5. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ bcrypt Ñ…ÑÑˆÐ¸ Ð´Ð»Ñ Ð·Ð°Ñ‰Ð¸Ñ‚Ñ‹ Ð¿Ð°Ñ€Ð¾Ð»ÐµÐ¹

## ðŸ”§ Ð”Ð°Ð»ÑŒÐ½ÐµÐ¹ÑˆÐµÐµ Ñ€Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ðµ

### Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹

**Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 1: Ð§ÐµÑ€ÐµÐ· Integram Ð²ÐµÐ±-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ)**
1. Ð—Ð°Ð¹Ñ‚Ð¸ Ð½Ð° https://Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ð¼.Ñ€Ñ„/bts/object/18
2. Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ
3. Ð’ Ð¿Ð¾Ð»Ðµ "ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ðµ" (FIELD_NOTE=39) ÑÐ¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ JSON Ñ bcrypt Ñ…ÑÑˆÐµÐ¼:
```json
{
  "settings": {
    "passwordHash": "$2b$10$..."
  }
}
```

**Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 2: Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð² ÐºÐ¾Ð´ ÐºÐ°Ðº fallback**
Ð’ Ñ„Ð°Ð¹Ð»Ðµ `/home/hive/btc/src/dashboard/services/AuthServiceIntegram.ts` Ð² Ð¼ÐµÑ‚Ð¾Ð´Ðµ `getDefaultUser()` Ð¼Ð¾Ð¶Ð½Ð¾ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹:

```typescript
private getAllUsers(): IntegramObject[] {
  const users = [
    {
      id: 1,
      value: 'd',
      requisites: {
        [FIELD_SECRET]: '-1',
        [FIELD_NAME]: 'Admin',
        [FIELD_EMAIL]: 'd',
        [FIELD_NOTE]: JSON.stringify({
          settings: {
            passwordHash: '$2b$10$7MJiGHdSXe27XnSmh44JHu9Jux83QgzaVuOxsHQ05qRfS5TMHQMVq'
          }
        }),
      },
    },
    // Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ð·Ð´ÐµÑÑŒ
  ];
  return users;
}
```

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 3: Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸ÑŽ Ñ Integram
Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼ Ð¿ÐµÑ€Ð¸Ð¾Ð´Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸:
1. Ð Ð°Ð· Ð² N Ð¼Ð¸Ð½ÑƒÑ‚ Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°Ñ‚ÑŒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ð¸Ð· Integram Ñ‡ÐµÑ€ÐµÐ· Ð²ÐµÐ±-ÑÐºÑ€Ð°Ð¿Ð¸Ð½Ð³
2. ÐšÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸Ñ… Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾
3. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÑ‚ÑŒ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸ÑŽ Ð¿Ð¾ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¼Ñƒ ÐºÑÑˆÑƒ

## ðŸ“ ÐšÐ°Ðº Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ

### Ð¨Ð°Ð³ 1: Ð¡Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ…ÑÑˆ Ð¿Ð°Ñ€Ð¾Ð»Ñ
```bash
cd /home/hive/btc
node -e "const bcrypt = require('bcrypt'); bcrypt.hash('Ð²Ð°Ñˆ_Ð¿Ð°Ñ€Ð¾Ð»ÑŒ', 10).then(hash => console.log(hash));"
```

### Ð¨Ð°Ð³ 2: Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Ð² ÐºÐ¾Ð´
ÐžÑ‚Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ `/home/hive/btc/src/dashboard/services/AuthServiceIntegram.ts`:

```typescript
private getDefaultUser(): IntegramObject {
  // Ð•ÑÐ»Ð¸ Ð·Ð°Ð¿Ñ€Ð°ÑˆÐ¸Ð²Ð°ÐµÑ‚ÑÑ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¹ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ, Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒ ÐµÐ³Ð¾
  // Ð­Ñ‚Ð¾ Ð¼Ð¾Ð¶Ð½Ð¾ Ñ€Ð°ÑÑˆÐ¸Ñ€Ð¸Ñ‚ÑŒ Ð´Ð¾ Ð¼Ð°ÑÑÐ¸Ð²Ð° Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹

  return {
    id: 2, // Ð£Ð½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ ID
    value: 'username', // Ð›Ð¾Ð³Ð¸Ð½
    requisites: {
      [FIELD_SECRET]: '-2',
      [FIELD_NAME]: 'ÐŸÐ¾Ð»Ð½Ð¾Ðµ Ð¸Ð¼Ñ',
      [FIELD_EMAIL]: 'email@example.com',
      [FIELD_NOTE]: JSON.stringify({
        settings: {
          passwordHash: 'Ñ…ÑÑˆ_Ð¿Ð°Ñ€Ð¾Ð»Ñ_Ð¸Ð·_ÑˆÐ°Ð³Ð°_1'
        }
      }),
      [FIELD_DATE]: new Date().toISOString(),
      [FIELD_ACTIVITY]: new Date().toISOString(),
    },
  };
}
```

### Ð¨Ð°Ð³ 3: ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ dashboard
```bash
pm2 restart btc-dashboard
```

## ðŸŽ¯ ÐŸÐ»Ð°Ð½ Ð´Ð°Ð»ÑŒÐ½ÐµÐ¹ÑˆÐµÐ¹ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹

1. **âœ… Ð“ÐžÐ¢ÐžÐ’Ðž**: IntegramClient Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ Integram API
   - âœ… ÐÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· form-data
   - âœ… ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ñ‡ÐµÑ€ÐµÐ· `/object/{typeId}?JSON`
   - âœ… ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð°Ñ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° cookies Ð¸ XSRF Ñ‚Ð¾ÐºÐµÐ½Ð¾Ð²

2. **ÐŸÑ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚ 1**: Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸ÑŽ Ð½Ð¾Ð²Ñ‹Ñ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹
   - Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ð² Integram Ñ‡ÐµÑ€ÐµÐ· API Ð¼ÐµÑ‚Ð¾Ð´Ñ‹ `createObject` Ð¸ `updateRequisites`
   - ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ bcrypt Ñ…ÑÑˆÐ° Ð¿Ð°Ñ€Ð¾Ð»Ñ Ð² Ð¿Ð¾Ð»Ðµ FIELD_NOTE (39)
   - Ð’Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸ username/email

3. **ÐŸÑ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚ 2**: Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÐµÐ¼
   - Ð¡Ð¼ÐµÐ½Ð° Ð¿Ð°Ñ€Ð¾Ð»Ñ (Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ bcrypt Ñ…ÑÑˆÐ° Ð² FIELD_NOTE)
   - ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ email/phone (Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ñ€ÐµÐºÐ²Ð¸Ð·Ð¸Ñ‚Ð¾Ð² 41/30)
   - Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ Ð²Ñ…Ð¾Ð´Ð¾Ð² (Ð½Ð¾Ð²Ð°Ñ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð° Ð¸Ð»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ FIELD_ACTIVITY)

4. **ÐŸÑ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚ 3**: Ð£Ð»ÑƒÑ‡ÑˆÐµÐ½Ð¸Ñ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸
   - ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð¿Ñ‹Ñ‚Ð¾Ðº Ð²Ñ…Ð¾Ð´Ð°
   - Ð¡ÐµÑÑÐ¸Ð¸ Ð¸ Ñ‚Ð¾ÐºÐµÐ½ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ
   - Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹

## ðŸ“š ÐŸÐ¾Ð»ÐµÐ·Ð½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹

- **ÐÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ**: `/home/hive/btc/src/dashboard/services/AuthServiceIntegram.ts`
- **Middleware**: `/home/hive/btc/src/dashboard/middleware/auth.ts`
- **Routes**: `/home/hive/btc/src/dashboard/routes.ts`
- **Login page**: `/home/hive/btc/src/dashboard/public/login.html`
- **Register page**: `/home/hive/btc/src/dashboard/public/register.html`

## ðŸ” Debugging

ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸ dashboard:
```bash
pm2 logs btc-dashboard --lines 50
```

ÐŸÑ€Ð¾Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸ÑŽ:
```bash
curl -X POST http://173.249.2.184:8080/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"d","password":"d"}'
```

ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ WebSocket:
```bash
node -e "
const WebSocket = require('ws');
const ws = new WebSocket('ws://localhost:8080/ws');
ws.on('open', () => console.log('Connected'));
ws.on('message', (d) => console.log('Message:', JSON.parse(d)));
ws.on('error', (e) => console.error('Error:', e.message));
"
```
