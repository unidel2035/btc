<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BTC Trading Bot Dashboard</title>
    <link rel="stylesheet" href="/styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  </head>
  <body>
    <div class="app">
      <!-- Sidebar Navigation -->
      <aside class="sidebar">
        <div class="logo">
          <h2>üìä Trading Bot</h2>
        </div>
        <nav class="nav">
          <a href="#dashboard" class="nav-item active" data-page="dashboard">
            <span class="icon">üìà</span>
            <span>Dashboard</span>
          </a>
          <a href="#signals" class="nav-item" data-page="signals">
            <span class="icon">üì°</span>
            <span>Signals</span>
          </a>
          <a href="#positions" class="nav-item" data-page="positions">
            <span class="icon">üíº</span>
            <span>Positions</span>
          </a>
          <a href="#news" class="nav-item" data-page="news">
            <span class="icon">üì∞</span>
            <span>News Feed</span>
          </a>
          <a href="#analytics" class="nav-item" data-page="analytics">
            <span class="icon">üìä</span>
            <span>Analytics</span>
          </a>
          <a href="#settings" class="nav-item" data-page="settings">
            <span class="icon">‚öôÔ∏è</span>
            <span>Settings</span>
          </a>
        </nav>
        <div class="sidebar-footer">
          <div class="connection-status">
            <span class="status-dot" id="wsStatus"></span>
            <span id="wsStatusText">Connecting...</span>
          </div>
        </div>
      </aside>

      <!-- Main Content -->
      <main class="main-content">
        <!-- Dashboard Page -->
        <div class="page active" id="dashboard-page">
          <div class="page-header">
            <h1>Dashboard</h1>
            <p>Real-time overview of your trading bot performance</p>
          </div>

          <!-- Metrics Cards -->
          <div class="metrics-grid">
            <div class="metric-card">
              <div class="metric-label">Balance</div>
              <div class="metric-value" id="balance">$0.00</div>
              <div class="metric-change" id="balanceChange">+0.00%</div>
            </div>
            <div class="metric-card">
              <div class="metric-label">Equity</div>
              <div class="metric-value" id="equity">$0.00</div>
              <div class="metric-change" id="equityChange">+0.00%</div>
            </div>
            <div class="metric-card">
              <div class="metric-label">PnL</div>
              <div class="metric-value" id="pnl">$0.00</div>
              <div class="metric-change" id="pnlPercent">0.00%</div>
            </div>
            <div class="metric-card">
              <div class="metric-label">Win Rate</div>
              <div class="metric-value" id="winRate">0%</div>
              <div class="metric-change" id="totalTrades">0 trades</div>
            </div>
          </div>

          <!-- Charts -->
          <div class="charts-grid">
            <div class="chart-card">
              <h3>Equity Chart</h3>
              <canvas id="equityChart"></canvas>
            </div>
            <div class="chart-card">
              <h3>Open Positions</h3>
              <div id="dashboardPositions" class="positions-list"></div>
            </div>
          </div>

          <!-- Recent Signals -->
          <div class="card">
            <h3>Recent Signals</h3>
            <div id="recentSignals" class="signals-list"></div>
          </div>
        </div>

        <!-- Signals Page -->
        <div class="page" id="signals-page">
          <div class="page-header">
            <h1>Trading Signals</h1>
            <p>Real-time signal feed from all strategies</p>
          </div>

          <div class="filters">
            <select id="signalTypeFilter">
              <option value="all">All Types</option>
              <option value="NEWS_MOMENTUM">News Momentum</option>
              <option value="SENTIMENT_SWING">Sentiment Swing</option>
              <option value="TECHNICAL">Technical</option>
              <option value="EVENT_DRIVEN">Event Driven</option>
            </select>
            <select id="signalActionFilter">
              <option value="all">All Actions</option>
              <option value="BUY">Buy</option>
              <option value="SELL">Sell</option>
              <option value="HOLD">Hold</option>
            </select>
          </div>

          <div id="signalsList" class="signals-feed"></div>
        </div>

        <!-- Positions Page -->
        <div class="page" id="positions-page">
          <div class="page-header">
            <h1>Positions</h1>
            <p>Manage your open positions</p>
          </div>

          <div id="positionsList" class="positions-grid"></div>
        </div>

        <!-- News Page -->
        <div class="page" id="news-page">
          <div class="page-header">
            <h1>News Feed</h1>
            <p>Latest crypto news with sentiment analysis</p>
          </div>

          <div class="filters">
            <select id="newsSentimentFilter">
              <option value="all">All Sentiments</option>
              <option value="POSITIVE">Positive</option>
              <option value="NEUTRAL">Neutral</option>
              <option value="NEGATIVE">Negative</option>
            </select>
          </div>

          <div id="newsFeed" class="news-feed"></div>
        </div>

        <!-- Analytics Page -->
        <div class="page" id="analytics-page">
          <div class="page-header">
            <h1>Analytics</h1>
            <p>Performance reports and statistics</p>
          </div>

          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-label">Total Trades</div>
              <div class="stat-value" id="statTotalTrades">0</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">Winning Trades</div>
              <div class="stat-value" id="statWinningTrades">0</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">Losing Trades</div>
              <div class="stat-value" id="statLosingTrades">0</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">Win Rate</div>
              <div class="stat-value" id="statWinRate">0%</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">Average Win</div>
              <div class="stat-value" id="statAvgWin">$0.00</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">Average Loss</div>
              <div class="stat-value" id="statAvgLoss">$0.00</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">Profit Factor</div>
              <div class="stat-value" id="statProfitFactor">0.00</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">Sharpe Ratio</div>
              <div class="stat-value" id="statSharpeRatio">0.00</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">Max Drawdown</div>
              <div class="stat-value" id="statMaxDrawdown">0%</div>
            </div>
          </div>

          <div class="card">
            <h3>Trade History</h3>
            <div id="tradeHistory" class="table-container"></div>
          </div>
        </div>

        <!-- Settings Page -->
        <div class="page" id="settings-page">
          <div class="page-header">
            <h1>Settings</h1>
            <p>Configure bot parameters and risk management</p>
          </div>

          <div class="settings-grid">
            <div class="card">
              <h3>Risk Management</h3>
              <form id="riskSettingsForm">
                <div class="form-group">
                  <label>Max Position Size (%)</label>
                  <input type="number" id="maxPositionSize" step="0.1" />
                </div>
                <div class="form-group">
                  <label>Max Positions</label>
                  <input type="number" id="maxPositions" />
                </div>
                <div class="form-group">
                  <label>Max Daily Loss (%)</label>
                  <input type="number" id="maxDailyLoss" step="0.1" />
                </div>
                <div class="form-group">
                  <label>Max Total Drawdown (%)</label>
                  <input type="number" id="maxTotalDrawdown" step="0.1" />
                </div>
                <div class="form-group">
                  <label>Default Stop Loss (%)</label>
                  <input type="number" id="defaultStopLoss" step="0.1" />
                </div>
                <div class="form-group">
                  <label>Default Take Profit (%)</label>
                  <input type="number" id="defaultTakeProfit" step="0.1" />
                </div>
                <div class="form-group">
                  <label>
                    <input type="checkbox" id="trailingStop" />
                    Enable Trailing Stop
                  </label>
                </div>
                <button type="submit" class="btn btn-primary">Save Risk Settings</button>
              </form>
            </div>

            <div class="card">
              <h3>Strategy Configuration</h3>
              <div id="strategiesList"></div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <script src="/app.js"></script>
  </body>
</html>
